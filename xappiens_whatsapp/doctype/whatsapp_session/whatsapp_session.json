{
 "actions": [],
 "allow_rename": 1,
 "autoname": "field:session_id",
 "creation": "2025-10-03 10:00:00.000000",
 "doctype": "DocType",
 "editable_grid": 1,
 "engine": "InnoDB",
 "field_order": [
  "section_break_1",
  "session_id",
  "session_name",
  "phone_number",
  "column_break_2",
  "status",
  "is_connected",
  "is_active",
  "section_break_qr",
  "qr_code",
  "qr_image",
  "column_break_qr",
  "qr_generated_at",
  "last_qr_scan",
  "section_break_connection",
  "connected_at",
  "last_activity",
  "last_seen",
  "column_break_connection",
  "connection_count",
  "disconnection_count",
  "last_error",
  "section_break_stats",
  "total_contacts",
  "total_chats",
  "total_messages_sent",
  "total_messages_received",
  "column_break_stats",
  "unread_count",
  "active_conversations",
  "avg_response_time",
  "section_break_config",
  "api_endpoint",
  "api_key",
  "column_break_config",
  "webhook_url",
  "webhook_secret",
  "section_break_users",
  "assigned_users",
  "section_break_metadata",
  "metadata",
  "notes",
  "section_break_system",
  "created_by",
  "modified_by"
 ],
 "fields": [
  {
   "fieldname": "section_break_1",
   "fieldtype": "Section Break",
   "label": "Información Básica"
  },
  {
   "fieldname": "session_id",
   "fieldtype": "Data",
   "in_list_view": 1,
   "in_standard_filter": 1,
   "label": "Session ID",
   "reqd": 1,
   "unique": 1,
   "description": "ID único de la sesión (ej: empresa_001)"
  },
  {
   "fieldname": "session_name",
   "fieldtype": "Data",
   "in_list_view": 1,
   "label": "Nombre de Sesión",
   "reqd": 1,
   "description": "Nombre descriptivo de la sesión"
  },
  {
   "fieldname": "phone_number",
   "fieldtype": "Data",
   "in_list_view": 1,
   "label": "Número de Teléfono",
   "description": "Número de WhatsApp conectado"
  },
  {
   "fieldname": "column_break_2",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "status",
   "fieldtype": "Select",
   "in_list_view": 1,
   "in_standard_filter": 1,
   "label": "Estado",
   "options": "Connected\nDisconnected\nConnecting\nQR Pending\nError\nInactive",
   "default": "Disconnected",
   "reqd": 1
  },
  {
   "fieldname": "is_connected",
   "fieldtype": "Check",
   "in_list_view": 1,
   "label": "Está Conectada",
   "default": 0
  },
  {
   "fieldname": "is_active",
   "fieldtype": "Check",
   "label": "Activa",
   "default": 1,
   "description": "Si está activa para uso"
  },
  {
   "fieldname": "section_break_qr",
   "fieldtype": "Section Break",
   "label": "Código QR"
  },
  {
   "fieldname": "qr_code",
   "fieldtype": "Long Text",
   "label": "QR Code (Text)",
   "description": "Código QR en formato texto"
  },
  {
   "fieldname": "qr_image",
   "fieldtype": "Attach Image",
   "label": "QR Image",
   "description": "Imagen del código QR"
  },
  {
   "fieldname": "column_break_qr",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "qr_generated_at",
   "fieldtype": "Datetime",
   "label": "QR Generado el",
   "description": "Última generación de QR"
  },
  {
   "fieldname": "last_qr_scan",
   "fieldtype": "Datetime",
   "label": "Último Escaneo QR",
   "description": "Última vez que se escaneó el QR"
  },
  {
   "fieldname": "section_break_connection",
   "fieldtype": "Section Break",
   "label": "Información de Conexión"
  },
  {
   "fieldname": "connected_at",
   "fieldtype": "Datetime",
   "label": "Conectada el",
   "description": "Fecha y hora de conexión"
  },
  {
   "fieldname": "last_activity",
   "fieldtype": "Datetime",
   "in_list_view": 1,
   "label": "Última Actividad",
   "description": "Última actividad registrada"
  },
  {
   "fieldname": "last_seen",
   "fieldtype": "Datetime",
   "label": "Visto por Última Vez",
   "description": "Última vez que la sesión fue vista activa"
  },
  {
   "fieldname": "column_break_connection",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "connection_count",
   "fieldtype": "Int",
   "label": "Conteo de Conexiones",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "disconnection_count",
   "fieldtype": "Int",
   "label": "Conteo de Desconexiones",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "last_error",
   "fieldtype": "Long Text",
   "label": "Último Error",
   "description": "Último error registrado"
  },
  {
   "fieldname": "section_break_stats",
   "fieldtype": "Section Break",
   "label": "Estadísticas"
  },
  {
   "fieldname": "total_contacts",
   "fieldtype": "Int",
   "label": "Total Contactos",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "total_chats",
   "fieldtype": "Int",
   "label": "Total Chats",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "total_messages_sent",
   "fieldtype": "Int",
   "label": "Mensajes Enviados",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "total_messages_received",
   "fieldtype": "Int",
   "label": "Mensajes Recibidos",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "column_break_stats",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "unread_count",
   "fieldtype": "Int",
   "label": "No Leídos",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "active_conversations",
   "fieldtype": "Int",
   "label": "Conversaciones Activas",
   "default": 0,
   "read_only": 1
  },
  {
   "fieldname": "avg_response_time",
   "fieldtype": "Float",
   "label": "Tiempo Promedio de Respuesta (min)",
   "precision": 2,
   "read_only": 1
  },
  {
   "fieldname": "section_break_config",
   "fieldtype": "Section Break",
   "label": "Configuración API"
  },
  {
   "fieldname": "api_endpoint",
   "fieldtype": "Data",
   "label": "API Endpoint",
   "description": "URL del servidor de WhatsApp"
  },
  {
   "fieldname": "api_key",
   "fieldtype": "Password",
   "label": "API Key",
   "description": "Clave de API para autenticación"
  },
  {
   "fieldname": "column_break_config",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "webhook_url",
   "fieldtype": "Data",
   "label": "Webhook URL",
   "description": "URL para recibir eventos"
  },
  {
   "fieldname": "webhook_secret",
   "fieldtype": "Password",
   "label": "Webhook Secret",
   "description": "Secreto para validar webhooks"
  },
  {
   "fieldname": "section_break_users",
   "fieldtype": "Section Break",
   "label": "Usuarios Asignados"
  },
  {
   "fieldname": "assigned_users",
   "fieldtype": "Table",
   "label": "Usuarios",
   "options": "WhatsApp Session User",
   "description": "Usuarios con acceso a esta sesión"
  },
  {
   "fieldname": "section_break_metadata",
   "fieldtype": "Section Break",
   "label": "Metadata y Notas"
  },
  {
   "fieldname": "metadata",
   "fieldtype": "JSON",
   "label": "Metadata",
   "description": "Datos adicionales en formato JSON"
  },
  {
   "fieldname": "notes",
   "fieldtype": "Text Editor",
   "label": "Notas",
   "description": "Notas sobre la sesión"
  },
  {
   "fieldname": "section_break_system",
   "fieldtype": "Section Break",
   "label": "Información del Sistema"
  },
  {
   "fieldname": "created_by",
   "fieldtype": "Link",
   "label": "Creado Por",
   "options": "User",
   "read_only": 1
  },
  {
   "fieldname": "modified_by",
   "fieldtype": "Link",
   "label": "Modificado Por",
   "options": "User",
   "read_only": 1
  }
 ],
 "index_web_pages_for_search": 1,
 "indexes": [
  "status",
  "is_connected",
  "is_active",
  "phone_number",
  "last_activity"
 ],
 "links": [
  {
   "link_doctype": "WhatsApp Contact",
   "link_fieldname": "session"
  },
  {
   "link_doctype": "WhatsApp Conversation",
   "link_fieldname": "session"
  },
  {
   "link_doctype": "WhatsApp Message",
   "link_fieldname": "session"
  }
 ],
 "modified": "2025-10-03 10:00:00.000000",
 "modified_by": "Administrator",
 "module": "Xappiens Whatsapp",
 "name": "WhatsApp Session",
 "naming_rule": "By fieldname",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "System Manager",
   "share": 1,
   "write": 1
  },
  {
   "create": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "WhatsApp Manager",
   "share": 1,
   "write": 1
  },
  {
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "WhatsApp User",
   "share": 1
  }
 ],
 "sort_field": "modified",
 "sort_order": "DESC",
 "states": [],
 "title_field": "session_name",
 "track_changes": 1,
 "track_seen": 1,
 "track_views": 1
}

