{
 "actions": [],
 "creation": "2025-10-15 04:31:53.506043",
 "doctype": "DocType",
 "editable_grid": 1,
 "engine": "InnoDB",
 "field_order": [
  "section_break_1",
  "enabled",
  "default_session",
  "column_break_2",
  "auto_sync_enabled",
  "sync_interval",
  "section_break_auth",
  "api_email",
  "api_password",
  "token_expires_at",
  "column_break_auth",
  "api_user_id",
  "organization_id",
  "access_token",
  "refresh_token",
  "section_break_api",
  "api_base_url",
  "api_key",
  "column_break_api",
  "api_timeout",
  "api_retry_attempts",
  "section_break_session",
  "session_id",
  "session_db_id",
  "column_break_session",
  "phone_number",
  "session_status",
  "section_break_webhook",
  "webhook_enabled",
  "webhook_url",
  "webhook_secret",
  "webhook_events",
  "column_break_webhook",
  "webhook_timeout",
  "webhook_retry_attempts",
  "section_break_ai",
  "ai_enabled",
  "default_ai_agent",
  "column_break_ai",
  "openai_api_key",
  "ai_model",
  "section_break_features",
  "enable_auto_response",
  "enable_read_receipts",
  "enable_typing_indicator",
  "column_break_features",
  "enable_media_download",
  "enable_contact_sync",
  "enable_group_sync",
  "section_break_notifications",
  "notify_on_new_message",
  "notify_on_connection_change",
  "column_break_notifications",
  "notification_users",
  "notification_email",
  "section_break_storage",
  "max_media_size",
  "media_storage_path",
  "column_break_storage",
  "auto_delete_media_days",
  "max_log_retention_days",
  "section_break_rate_limit",
  "rate_limit_enabled",
  "rate_limit_messages_per_minute",
  "column_break_rate_limit",
  "rate_limit_messages_per_hour",
  "rate_limit_messages_per_day"
 ],
 "fields": [
  {
   "fieldname": "section_break_1",
   "fieldtype": "Section Break",
   "label": "Configuraci\u00f3n General"
  },
  {
   "default": "1",
   "description": "Habilitar m\u00f3dulo de WhatsApp",
   "fieldname": "enabled",
   "fieldtype": "Check",
   "label": "Habilitado"
  },
  {
   "fieldname": "default_session",
   "fieldtype": "Link",
   "label": "Sesi\u00f3n por Defecto",
   "options": "WhatsApp Session"
  },
  {
   "fieldname": "column_break_2",
   "fieldtype": "Column Break"
  },
  {
   "default": "1",
   "fieldname": "auto_sync_enabled",
   "fieldtype": "Check",
   "label": "Sincronizaci\u00f3n Autom\u00e1tica"
  },
  {
   "default": "5",
   "depends_on": "eval:doc.auto_sync_enabled==1",
   "fieldname": "sync_interval",
   "fieldtype": "Int",
   "label": "Intervalo de Sincronizaci\u00f3n (minutos)"
  },
  {
   "fieldname": "section_break_auth",
   "fieldtype": "Section Break",
   "label": "Credenciales de Autenticaci\u00f3n"
  },
  {
   "default": "apiwhatsapp@grupoatu.com",
   "description": "Email para autenticaci\u00f3n con el servidor de WhatsApp",
   "fieldname": "api_email",
   "fieldtype": "Data",
   "in_list_view": 1,
   "label": "Email de API",
   "reqd": 1
  },
  {
   "description": "Password para autenticaci\u00f3n con el servidor de WhatsApp",
   "fieldname": "api_password",
   "fieldtype": "Data",
   "in_list_view": 1,
   "label": "Password de API",
   "reqd": 1
  },
  {
   "fieldname": "column_break_auth",
   "fieldtype": "Column Break"
  },
  {
   "default": "2",
   "description": "ID del usuario en el servidor de WhatsApp",
   "fieldname": "api_user_id",
   "fieldtype": "Int",
   "label": "User ID"
  },
  {
   "default": "1",
   "description": "ID de la organizaci\u00f3n en el servidor de WhatsApp",
   "fieldname": "organization_id",
   "fieldtype": "Int",
   "label": "Organization ID"
  },
  {
   "fieldname": "section_break_api",
   "fieldtype": "Section Break",
   "label": "Configuraci\u00f3n de API"
  },
  {
   "default": "https://api.inbox-hub.com",
   "description": "URL del servidor de WhatsApp (ej: https://api.inbox-hub.com)",
   "fieldname": "api_base_url",
   "fieldtype": "Data",
   "in_list_view": 1,
   "label": "URL Base de API",
   "reqd": 1
  },
  {
   "description": "Clave de API para autenticaci\u00f3n",
   "fieldname": "api_key",
   "fieldtype": "Data",
   "in_list_view": 1,
   "label": "API Key",
   "reqd": 1
  },
  {
   "fieldname": "column_break_api",
   "fieldtype": "Column Break"
  },
  {
   "default": "30",
   "fieldname": "api_timeout",
   "fieldtype": "Int",
   "label": "Timeout de API (segundos)"
  },
  {
   "default": "3",
   "fieldname": "api_retry_attempts",
   "fieldtype": "Int",
   "label": "Intentos de Reintento"
  },
  {
   "fieldname": "section_break_session",
   "fieldtype": "Section Break",
   "label": "Configuraci\u00f3n de Sesi\u00f3n WhatsApp"
  },
  {
   "default": "nueva_sesion_wa",
   "description": "ID de la sesi\u00f3n de WhatsApp en el servidor",
   "fieldname": "session_id",
   "fieldtype": "Data",
   "label": "Session ID",
   "reqd": 1
  },
  {
   "default": "2",
   "description": "ID de la sesi\u00f3n en la base de datos del servidor",
   "fieldname": "session_db_id",
   "fieldtype": "Int",
   "label": "Session DB ID"
  },
  {
   "fieldname": "column_break_session",
   "fieldtype": "Column Break"
  },
  {
   "default": "34657032985",
   "description": "N\u00famero de tel\u00e9fono de la sesi\u00f3n de WhatsApp",
   "fieldname": "phone_number",
   "fieldtype": "Data",
   "label": "N\u00famero de Tel\u00e9fono"
  },
  {
   "default": "connected",
   "description": "Estado actual de la sesi\u00f3n de WhatsApp",
   "fieldname": "session_status",
   "fieldtype": "Select",
   "label": "Estado de la Sesi\u00f3n",
   "options": "disconnected\nconnecting\nconnected\nerror"
  },
  {
   "fieldname": "section_break_webhook",
   "fieldtype": "Section Break",
   "label": "Configuraci\u00f3n de Webhooks"
  },
  {
   "default": "1",
   "fieldname": "webhook_enabled",
   "fieldtype": "Check",
   "label": "Webhooks Habilitados"
  },
  {
   "description": "URL completa donde Inbox Hub debe enviar los webhooks",
   "fieldname": "webhook_url",
   "fieldtype": "Data",
   "label": "URL del Webhook",
   "read_only": 1
  },
  {
   "fieldname": "webhook_secret",
   "fieldtype": "Data",
   "label": "Webhook Secret"
  },
  {
   "default": "message,message_ack,presence_update,session_status,contact_update",
   "description": "Eventos separados por comas (ej: message,message_ack,presence_update)",
   "fieldname": "webhook_events",
   "fieldtype": "Small Text",
   "label": "Eventos de Webhook"
  },
  {
   "fieldname": "column_break_webhook",
   "fieldtype": "Column Break"
  },
  {
   "default": "30000",
   "fieldname": "webhook_timeout",
   "fieldtype": "Int",
   "label": "Webhook Timeout (ms)"
  },
  {
   "default": "3",
   "fieldname": "webhook_retry_attempts",
   "fieldtype": "Int",
   "label": "Reintentos de Webhook"
  },
  {
   "fieldname": "section_break_ai",
   "fieldtype": "Section Break",
   "label": "Configuraci\u00f3n de IA"
  },
  {
   "default": "0",
   "fieldname": "ai_enabled",
   "fieldtype": "Check",
   "label": "IA Habilitada"
  },
  {
   "depends_on": "eval:doc.ai_enabled==1",
   "fieldname": "default_ai_agent",
   "fieldtype": "Link",
   "label": "Agente IA por Defecto",
   "options": "WhatsApp AI Agent"
  },
  {
   "fieldname": "column_break_ai",
   "fieldtype": "Column Break"
  },
  {
   "depends_on": "eval:doc.ai_enabled==1",
   "fieldname": "openai_api_key",
   "fieldtype": "Password",
   "label": "OpenAI API Key"
  },
  {
   "default": "gpt-4",
   "depends_on": "eval:doc.ai_enabled==1",
   "fieldname": "ai_model",
   "fieldtype": "Select",
   "label": "Modelo de IA",
   "options": "gpt-4\ngpt-4-turbo\ngpt-3.5-turbo\ngpt-4o"
  },
  {
   "fieldname": "section_break_features",
   "fieldtype": "Section Break",
   "label": "Caracter\u00edsticas"
  },
  {
   "default": "0",
   "fieldname": "enable_auto_response",
   "fieldtype": "Check",
   "label": "Respuesta Autom\u00e1tica"
  },
  {
   "default": "1",
   "fieldname": "enable_read_receipts",
   "fieldtype": "Check",
   "label": "Confirmaciones de Lectura"
  },
  {
   "default": "1",
   "fieldname": "enable_typing_indicator",
   "fieldtype": "Check",
   "label": "Indicador de Escritura"
  },
  {
   "fieldname": "column_break_features",
   "fieldtype": "Column Break"
  },
  {
   "default": "1",
   "fieldname": "enable_media_download",
   "fieldtype": "Check",
   "label": "Descarga Autom\u00e1tica de Media"
  },
  {
   "default": "1",
   "fieldname": "enable_contact_sync",
   "fieldtype": "Check",
   "label": "Sincronizaci\u00f3n de Contactos"
  },
  {
   "default": "1",
   "fieldname": "enable_group_sync",
   "fieldtype": "Check",
   "label": "Sincronizaci\u00f3n de Grupos"
  },
  {
   "fieldname": "section_break_notifications",
   "fieldtype": "Section Break",
   "label": "Notificaciones"
  },
  {
   "default": "1",
   "fieldname": "notify_on_new_message",
   "fieldtype": "Check",
   "label": "Notificar Nuevos Mensajes"
  },
  {
   "default": "1",
   "fieldname": "notify_on_connection_change",
   "fieldtype": "Check",
   "label": "Notificar Cambios de Conexi\u00f3n"
  },
  {
   "fieldname": "column_break_notifications",
   "fieldtype": "Column Break"
  },
  {
   "description": "Emails separados por comas",
   "fieldname": "notification_users",
   "fieldtype": "Small Text",
   "label": "Usuarios para Notificar"
  },
  {
   "fieldname": "notification_email",
   "fieldtype": "Data",
   "label": "Email de Notificaci\u00f3n"
  },
  {
   "fieldname": "section_break_storage",
   "fieldtype": "Section Break",
   "label": "Almacenamiento"
  },
  {
   "default": "16",
   "fieldname": "max_media_size",
   "fieldtype": "Int",
   "label": "Tama\u00f1o M\u00e1ximo de Media (MB)"
  },
  {
   "default": "/public/files/whatsapp_media",
   "fieldname": "media_storage_path",
   "fieldtype": "Data",
   "label": "Ruta de Almacenamiento de Media"
  },
  {
   "fieldname": "column_break_storage",
   "fieldtype": "Column Break"
  },
  {
   "default": "90",
   "description": "0 = nunca eliminar",
   "fieldname": "auto_delete_media_days",
   "fieldtype": "Int",
   "label": "Auto-Eliminar Media despu\u00e9s de (d\u00edas)"
  },
  {
   "default": "30",
   "fieldname": "max_log_retention_days",
   "fieldtype": "Int",
   "label": "Retenci\u00f3n de Logs (d\u00edas)"
  },
  {
   "fieldname": "section_break_rate_limit",
   "fieldtype": "Section Break",
   "label": "Rate Limiting"
  },
  {
   "default": "1",
   "fieldname": "rate_limit_enabled",
   "fieldtype": "Check",
   "label": "Rate Limiting Habilitado"
  },
  {
   "default": "20",
   "depends_on": "eval:doc.rate_limit_enabled==1",
   "fieldname": "rate_limit_messages_per_minute",
   "fieldtype": "Int",
   "label": "Mensajes por Minuto"
  },
  {
   "fieldname": "column_break_rate_limit",
   "fieldtype": "Column Break"
  },
  {
   "default": "1000",
   "depends_on": "eval:doc.rate_limit_enabled==1",
   "fieldname": "rate_limit_messages_per_hour",
   "fieldtype": "Int",
   "label": "Mensajes por Hora"
  },
  {
   "default": "10000",
   "depends_on": "eval:doc.rate_limit_enabled==1",
   "fieldname": "rate_limit_messages_per_day",
   "fieldtype": "Int",
   "label": "Mensajes por D\u00eda"
  },
  {
   "fieldname": "access_token",
   "fieldtype": "Data",
   "label": "Access Token",
   "length": 260
  },
  {
   "fieldname": "refresh_token",
   "fieldtype": "Data",
   "label": "Refresh Token",
   "length": 260
  },
  {
   "fieldname": "token_expires_at",
   "fieldtype": "Datetime",
   "label": "Token Expiration"
  }
 ],
 "index_web_pages_for_search": 1,
 "issingle": 1,
 "links": [],
 "modified": "2025-10-24 19:32:34.599827",
 "modified_by": "Administrator",
 "module": "Xappiens Whatsapp",
 "name": "WhatsApp Settings",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "email": 1,
   "print": 1,
   "read": 1,
   "role": "System Manager",
   "share": 1,
   "write": 1
  },
  {
   "email": 1,
   "print": 1,
   "read": 1,
   "role": "WhatsApp Manager",
   "write": 1
  }
 ],
 "sort_field": "modified",
 "sort_order": "DESC",
 "states": [],
 "track_changes": 1
}
